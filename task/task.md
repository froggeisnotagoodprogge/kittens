# Task

## Нужно написать сервис по учету котиков и их владельцев.

Существующая информация о котиках:
- Имя
- Дата рождения
- Порода
- Цвет (один из заранее заданных вариантов)
- Хозяин
- Список котиков, с которыми дружит этот котик (из представленных в базе)

Существующая информация о хозяевах:
- Имя
- Дата рождения
- Список котиков

Сервис должен реализовывать архитектуру **Сontroller-Service-Dao**.

Вся информация хранится в БД **PostgreSQL**. Для связи с БД должен использоваться **Hibernate**.

Проект должен собираться с помощью Maven или Gradle (на выбор студента). 
Слой доступа к данным и сервисный слой должны являться двумя разными модулями Maven/Gradle. При этом проект должен полностью собираться одной командой.

При тестировании рекомендуется использовать [Mockito](https://mvnrepository.com/artifact/org.mockito/mockito-core), чтобы избежать подключения к реальным базам данных. 

Фреймворк для тестирования рекомендуется [JUnit](https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api).

### Далее к созданному сервису добавляется Spring.

Сервис должен предоставлять HTTP интерфейс (**REST API**) для получения информации о конкретных котиках и владельцах и для получения фильтрованной информации (например, получить всех рыжих котиков)

Внимание: недопустимо отдавать через HTTP интерфейс сущности JPA. Рекомендуется создать отдельные оберточные классы.

Сервисы и DAO должны превратиться в Spring Bean’ы с использованием **Dependency Injection (Autowired)**. DAO при этом наследуют [JpaRepository](https://www.baeldung.com/spring-data-repositories#repositories) и имеет шаблонные Spring Data JPA методы.

### Добавим авторизацию к сервису.

Добавляется роль администратора. Он имеет доступ ко всем методам и может создавать новых пользователей. Пользователь связан с владельцем в соотношении 1:1.

Методы по получению информации и котиках и владельцах должны быть защищены [Spring Security](https://docs.spring.io/spring-security/reference/index.html). Доступ к соотвутсвующим endpoint’ам имеют только владельцы котиков и администраторы. Доступ к методам для фильтрации имеют все авторизованные пользователи, но на выходе получают только данные о своих котиках.

**Внимание**: эндпоинты, созданные на предыдущем этапе, не должны быть удалены.
